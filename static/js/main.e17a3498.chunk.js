(this.webpackJsonpassignment=this.webpackJsonpassignment||[]).push([[0],{13:function(e,t,s){},15:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),c=s(7),r=s.n(c),l=s(3),i=s.n(l),j=s(5),d=s(2),o=(s(13),s(4)),b=s(0),m=function(e){var t=e.item,s=e.fetchData,n=function(){var e=Object(j.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://3.6.93.159:7883/machstatz/delete_existing_user?email=".concat(t.email),{method:"DELETE"});case 2:e.sent.ok&&alert("User deleted"),s();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"tile",children:[Object(b.jsxs)("div",{className:"btn-container",children:[Object(b.jsx)("button",{className:"btn edit-btn",children:Object(b.jsx)(o.a,{})}),Object(b.jsx)("button",{className:"btn delete-btn",onClick:n,children:Object(b.jsx)(o.b,{})})]}),Object(b.jsx)("div",{className:"title",children:Object(b.jsxs)("h4",{className:"name",children:[t.first_name," ",t.last_name]})})]})},u=function(e){var t=e.list,s=e.closeForm,a=e.fetchData,c=Object(n.useState)({}),r=Object(d.a)(c,2),l=(r[0],r[1]),i=Object(n.useState)(""),j=Object(d.a)(i,2),m=j[0],u=j[1],h=Object(n.useState)(""),O=Object(d.a)(h,2),x=O[0],f=O[1],p=Object(n.useState)(""),v=Object(d.a)(p,2),N=v[0],g=v[1],y=Object(n.useState)(""),_=Object(d.a)(y,2),C=_[0],k=_[1],w=Object(n.useState)(""),S=Object(d.a)(w,2),E=S[0],F=S[1];return Object(b.jsx)("div",{className:"form-overlay",children:Object(b.jsxs)("div",{className:"form",children:[Object(b.jsxs)("div",{className:"form-header",children:[Object(b.jsx)("h4",{children:"Add User"}),Object(b.jsx)("button",{className:"close-form",onClick:s,children:Object(b.jsx)(o.c,{size:"20px"})})]}),Object(b.jsx)("div",{className:"border"}),Object(b.jsxs)("form",{action:"",className:"add-user",children:[Object(b.jsxs)("div",{className:"form-input",children:[Object(b.jsx)("label",{htmlFor:"",children:Object(b.jsx)("h4",{children:"First Name"})}),Object(b.jsx)("input",{type:"text",name:"first_name",id:"first_name",value:m,onChange:function(e){return u(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-input",children:[Object(b.jsx)("label",{htmlFor:"",children:Object(b.jsx)("h4",{children:"Last Name"})}),Object(b.jsx)("input",{type:"text",name:"last_name",id:"last_name",value:x,onChange:function(e){return f(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-input",children:[Object(b.jsx)("label",{htmlFor:"",children:Object(b.jsx)("h4",{children:"Profiles"})}),Object(b.jsxs)("select",{name:"profile",id:"profile",children:[Object(b.jsx)("option",{value:"value",selected:!0,disabled:!0,hidden:!0,children:"Please Select"}),Object(b.jsx)("option",{value:"frontend",children:"FrontEnd"}),Object(b.jsx)("option",{value:"backend",children:"BackEnd"})]})]}),Object(b.jsxs)("div",{className:"form-input",children:[Object(b.jsx)("label",{htmlFor:"",children:Object(b.jsx)("h4",{children:"Username"})}),Object(b.jsx)("input",{type:"text",name:"username",id:"username",value:N,onChange:function(e){return g(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-input",children:[Object(b.jsx)("label",{htmlFor:"",children:Object(b.jsx)("h4",{children:"Email Address"})}),Object(b.jsx)("input",{type:"",name:"email",id:"email",value:C,onChange:function(e){k(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-input",children:[Object(b.jsx)("label",{htmlFor:"",children:Object(b.jsx)("h4",{children:"Password"})}),Object(b.jsx)("input",{type:"text",name:"password",id:"password",value:E,onChange:function(e){return F(e.target.value)}})]})]}),Object(b.jsx)("div",{className:"border"}),Object(b.jsxs)("div",{className:"form-btns",children:[Object(b.jsx)("button",{className:"form-btn cancel",onClick:s,children:"Cancel"}),Object(b.jsx)("button",{className:"form-btn add",onClick:function(e){var n=0,c={email:C,fist_name:m,first_name:m,last_name:x,pwd:E,username:N};u(""),f(""),g(""),k(""),k(""),F(""),t.map((function(e){e.username!==c.username&&e.email!==c.email||(n=1)})),C&&m&&x&&E&&N||(n=2),0===n?(l(c),document.getElementsByClassName("add").disabled=!0,fetch("http://3.6.93.159:7883/machstatz/add_new_user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){console.log(e),e.ok&&(alert("Created the new user successfully."),s(),a())})),document.getElementsByClassName("add").disabled=!1):1===n?alert("User with provided email or username already exists"):alert("Please fill all the fields")},children:"Add"})]})]})})};var h=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),s=t[0],a=t[1],c=Object(n.useState)(!1),r=Object(d.a)(c,2),l=r[0],o=r[1],h=function(){var e=Object(j.a)(i.a.mark((function e(){var t,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://3.6.93.159:7883/machstatz/get_all_users");case 2:return t=e.sent,e.next=5,t.json();case 5:s=e.sent,a(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){h()}),[]),Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("button",{className:"main-btn add",onClick:function(){o(!0)},children:Object(b.jsx)("h4",{children:"Add User"})}),Object(b.jsx)("div",{className:"display",children:s.map((function(e){return Object(b.jsx)(m,{item:e,fetchData:h},e._id.$oid)}))}),l?Object(b.jsx)(u,{closeForm:function(){o(!1)},list:s,fetchData:h}):null]})})};r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(h,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.e17a3498.chunk.js.map